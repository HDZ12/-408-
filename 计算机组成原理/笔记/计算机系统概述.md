# 计算机层次结构图
## 计算机层次结构图
![Pasted image 20240530190232](https://github.com/user-attachments/assets/88646143-7f7b-4da4-9092-2858319acbf7)
## 三个级别的语言
### 机器语言
- 计算机唯一可以直接识别和执行的语言
### 汇编语言
- 由汇编程序（系统软件）翻译为机器语言再执行
### 高级语言
- 如 **C,C++,JAVA**
- **$高级语言\rightarrow汇编语言\rightarrow机器语言$**
- $高级语言\rightarrow机器语言$
## 翻译程序
- 汇编程序（汇编器）
	- $汇编语言\rightarrow机器语言$
- 解释程序
	- 便翻译边执行
- 编译程序（编译器）
	- $高级语言\rightarrow汇编语言\rightarrow机器语言$
# 计算机硬件的组成

## 冯诺依曼机的示例图
![Pasted image 20240530191847](https://github.com/user-attachments/assets/af0399c5-6702-4a0e-a619-7842cc87daf4)
```text
冯诺依曼机的特点
1. 采用“存储程序”的工作方式
2. 计算机硬件系统由运算器，存储器，输入设备，输出设备，控制器。
3. 指令和数据以同等地位存储在存储器中，形式上没有区别，但计算机能区分。
4. 指令和数据以二进制代码表示
5. 指令=操作码+地址码
```
## 现代计算机结构的实例图
![Pasted image 20240530192816](https://github.com/user-attachments/assets/66e354a4-8a98-4408-91d8-0864c414dfb4)
```text
现代计算机结构的特点
1. 计算机 = 主机 + 输入/输出设备
2. 主机 = CPU + 主存
3. CPU = 运算器 + 控制器
4. 控制器：指挥各部件使得程序执行
5. 运算器：算术运算和逻辑运算
6. 存储器：存放数据和指令【存储器为核心】
7. 输入设备：将信息转换为机器能够识别的形式
8. 输出设备：将结果转换为人们熟悉的形式
```
# 计算机的功能部件
## 存储器
![Pasted image 20240530193351](https://github.com/user-attachments/assets/bb12a125-5851-416d-b196-0a68728e1a92) \
![Pasted image 20240530193421](https://github.com/user-attachments/assets/9651d446-1211-4564-a65f-db3fe0ce1113)
```text
- 存储元：即存储二进制的电子元件，每个存储元可存1bit
- 存储单元：每个存储单元存放一串二进制代码
- 存储字：存储单元中二进制代码的组合
- 存储字长：存储单元中二进制代码的位数
- 机器字长：计算机能一次处理的二进制代码长度
- 指令字长：指令的二进制长度
- 数据字长：数据总线一次能并行传送信息的次数
- MAR（地址寄存器）：用于寻址，位数=存储单元的个数/地址码的长度【现代计算机的CPU中也内置了MAR】
- MDR（数据寄存器）：用于暂存数据，位数=存储字长
- 时序控制逻辑：用于产生存储器操作所需的各种时序信号
```
## 运算器
![Pasted image 20240530193845](https://github.com/user-attachments/assets/953891a0-ac28-47a1-9d05-4e58e13d746c)

```
- ACC：累加器，用于存放操作数，或运算结果
- MQ：乘商寄存器，在乘，除计算时用于存放操作数或运算结果
- X：通用的操作数寄存器，用于存放操作数
- ALU：算术逻辑单元，是运算器的核心
```
## 控制器
![Pasted image 20240530194021](https://github.com/user-attachments/assets/1fc588a6-c97d-492b-a7f4-871d28a6dcf1)
```
- PC：程序计数器，存放下一条指令的地址，并跟踪下一条要执行的指令的地址
- IR：指令寄存器：存放当前正在执行的指令
- CU：控制单元，分析指令，给出控制信号
```
# 计算机系统的细节
## 系统细节图
![Pasted image 20240530194238](https://github.com/user-attachments/assets/45d6a9b5-d12b-4af8-911a-2bf2c4e8210f)
- CPU：中央处理器
- PC：程序计数器
- MAR：存储器地址寄存器
- ALU：算术逻辑部件
- IR：指令寄存器
- MDR：存储器数据寄存器
- GPRs：通用寄存器组（由若干通用寄存器组成，早期就是累加器）
## 程序执行的过程
![Pasted image 20240530194846](https://github.com/user-attachments/assets/85cb50db-cddf-4aef-a518-d68664bca377)
## 指令的执行
三个阶段：取指令，分析指令，执行指令  \
1.开始时，将第一条指令地址放到PC中 \
2.将PC的指令存到MAR中，发出读命令，读MAR里面的内容，然后存到MDR中，再把MDR的指令放到IR中 \
3.翻译IR的操作性质 \
4.取操作数 \
5.将操作数送往运算器，进行运算 \
6.送结果到寄存器中或者送到内存 \
7.PC加一
# 计算机性能指标
## 字长
 机器字长：计算机进行一次整数运算所能处理的二进制的位数，一般与字长长度有关
## 数据通路带宽
- 外部数据总线一次能并行传送信息的位数，非CPU内部数据总线宽度
## 主存容量
- 主存储器所能存储信息的最大容量
- 通常以字节来衡量
- 也可以用字数\*字长表示
	- MAR为16位, $2^{16}=65536$,存储体内有65536个存储单元(可称作 $64K$)
	- MDR位32位，表示存储容量位 $64k*32$
## 吞吐量和响应时间
- 吞吐量：系统在单位时间内处理请求的数量【用户角度评价计算机系统性能的综合参数】
- 响应时间：指用户向计算机发送一个请求，到系统对该请求做出响应并获得所需结果的等待时间
## 主频和CPU时钟周期
- 主频：机器内部主时钟的频率，代表每秒执行多少个时钟周期数
- 值越大代表一个操作所需时间越少，CPU运行速度越快
- CPU时钟周期：通常为节拍脉冲或T周期，即主频的倒数
- 是CPU中最小的时间单位，每个动作至少需要1个时钟周期

$$时钟周期=\frac{1}{主频}$$
## CPI
- 执行一条指令所需要的时钟周期数
- CPI与系统结构，指令集，计算机组织有关，与时钟频率无关
  
$$CPI=\frac{时钟周期数}{指令数量}$$
## CPU执行时间
运行一个程序所花费的时间

$$执行时间=时钟周期数量\*时钟周期=\frac{时钟周期数量}{主频}=\frac{指令数量*CPI}{主频}$$
## MIPS
MIPS：每秒执行多少百万条指令【Million instructions per second】

$$MIPS= \frac{指令数量}{执行时间\*10^6}=\frac{主频}{CPI*10^6}$$

- MFLOPS：每秒执行多少百万次浮点运算( $10^6$)
- GFLOPS：每秒执行多少十亿次浮点运算( $10^9$)
M->G->T->P->E->Z(依次增加 $10^3$)
