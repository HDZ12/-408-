# 物理层基本概念
## 物理层解决了什么
- 物理层解决如何在连接各种计算机的传输媒体上传输数据比特流，不是具体的传输媒体
## 物理层主要任务
- 确定一些与传输媒体接口有关的一些特性
## 与传输媒体接口有关的特性
### 机械特性
定义物理连接的特性，规定物理连接时所采用的规格、接口形状、引线数目、引脚数量和排列情况
### 电气特性
规定传输二进制时，线路上信号的电压范围，阻抗匹配、传输速率和距离限制
### 功能特性
指明某条线上出现的**某一电平**的电压表示何种意义
### 过程特性
指明对于不同功能的各种可能事件的出现**顺序**
# 数据通信基础知识
## 信号
- 数据的电气/电磁的表现，是数据在传输过程中的存在形式
	- 数字信号(离散信号)
		- 代表消息的参数取值是离散的
	- 模拟信号(连续信号)
		- 代表消息的参数取值是连续的
## 信源
产生或发送数据的源头
## 信宿
接收数据的终点
## 信道
- 信号的传输媒介
-  一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接受信道
## 码元
- 在一个固定时长的信号波形（数字脉冲），代表不同离散数值的基本波形就称为码元
- 在使用二进制编码时，只有两种不同的码元，一种代表0状态，一种代表1状态，是二进制码元
- 一个码元所携带的信息量是不固定的，是由调制方式和编码方式决定的
## 速率 && 波特
### 码元传输速率=码元速率=波形速率=符号速率=调制速率
它表示单位时间内数字通信系统所传输的码元个数（也可以称为脉冲个数或信号变化的次数），单位是波特（Baud）
### 信息传输速率=信息速率=比特率
表示单位时间内数字通信系统传输的二进制码元个数（比特数），单位：b/s
### 波特率
每秒可能发生的信号变化次数
- 波特率 = 比特率/每码元所含比特数 = 信息传输速率/每码元所含比特数
### 带宽
- 表示在单位时间内从网络中的某一点到另一点所能通过的“最高数据率”
- 常用来表示网络中通信线路所能传输数据的能力
- 单位：bit/s
# 信道分类 && 通信方式 && 数据传输方式
## 信道分类
- 按传输信号
	-  模拟信道用于传输模拟信号
	- 数字信道用于传输数字信号
- 按传输介质
	- 无线信道
	- 有线信道
## 信号分类
### 基带信号
将数字信号1和0直接用两种不同的电压表示，然后送到数字信道上传输（基带传输）
### 宽带信号
将基带信号进行调制后形成频分复用模拟信号，然后送到模拟信道上传输（宽带传输）
### 通信方式
|            |                                                                                  |
| ---------- | -------------------------------------------------------------------------------- |
| 单工通信   | - 单向通信<br>- 如无线电广播、有线电广播就是单工通信                             |
| 半双工通信 | - 双向交替通信<br>- 这种方式是一方发送另一方接收                                 |
| 全双工通信 | - 双向同时通信<br>-   单工通信需要一条信道，而半双工通信和全双工通信需要两条信道 |
### 数据传输方式
|      |                                                           |
| ---- | --------------------------------------------------------- |
| 串行传输 | - 1比特1比特地按照时间顺序传输  <br>    速度慢，费用低，适合远距离                  |
| 并行传输 | - 若干比特通过多条通信信道同时传输<br>- 速度快，费用高，适合近距离<br>- 并行适用于计算机内部数据传输 |
|      |                                                           |
# 奈氏准则和香农定理(重点)
## 失真
- 失真：信号在传输过程中，由于实际信道有噪声、干扰、带宽的限制，导致接收端接收的信号和发送端发送的信号不一致
- 所谓失真就是失去了真实性
- 影响失真程度的因素：码元传输速率、信号的传输距离、噪声干扰、传输媒体的质量
- 码元传输速率越大、信号传输距离越远、噪声干扰越大、或传输媒体质量越差，波形失真越严重

![Pasted image 20240504194408](https://github.com/user-attachments/assets/5cf6457c-5226-49b1-b692-41bb7f98e04c)
## 码间串扰
- 码间串扰：接收端收到的信号波形失去了码元之间清晰界限的现象
- 具体的信道所能通过的频率范围是有限的

![Pasted image 20240504194501](https://github.com/user-attachments/assets/ed2107e1-c48e-4c90-b18d-a53c03099aa3)

## 奈氏准则（在理想状态下）
- 在理想低通（无噪声、带宽受限）条件下，为了避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是HZ。
- 带宽只有在奈氏准则和香农定理中单位是HZ，其余都是b/s。
理想低通信道下的极限数据传输率 = $2W*log_2V$

> [!NOTE]
> W是信道带宽，单位：HZ。V是码元的离散电平数目，即共有几种码元
- 在任何信道中，码元传输速率是有上限的，如果传输速率超过这个上限，就会出现严重的码间串扰问题，使接收端对码元的判决（识别）成为不可能。
- 如果信道的频带越宽，也就是能够通过的信号高频分量越多，那么就可以用更高速率传送码元而不出现码间串扰
- 由于码元的传输速率受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多的个比特量的信息
## 香农定理
在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输率有上限值。
## 信噪比
- 信号的平均功率和噪声的平均功率之比，常记于S/N，并用分贝（dB）作为度量单位。
- 信噪比（dB） =   $10\*lg(S/N)$ (dB)
信道的极限数据传输速率= $W\*log_2(1+S/N)$
- 信道的带宽越大或信道的信噪比越大，则信息的极限传输速率就越高。
- 对一定的传输带宽和一定的信噪比，信息传输速率的上限就确定了。
- 只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现无差错传输。
- 香浓定理得出的是极限信息传输速率，实际信道能达到的传输速率要比它低很多
# 编码 & 调制【相关计算题很重要】
![Pasted image 20240504195426](https://github.com/user-attachments/assets/800ac4c3-ce33-43a9-aa3d-f6302b831659)
信道上传送的信号可以分为**基带信号**和**带通信号**
## 基带信号
- 来源于信源的信号。将数字信号1和0直接用两种不同的电压表示，再送到数字信道上传输（基带传输）。
- 计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。
- 基带信号就是发出的直接表达了要传输的信息的信号。如说话的声波就是基带信号。

- 基信号往往包含较多带的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。为了解决这个问题，就必须对基带信号进行调制
## 带通信号
- 经过载波调制后的信号（即仅在一段频率范围内能通过信道）
## 调制方式：基带调制，带通调制
### 基带调制
- 仅仅对基带信号的波形进行变换，使它能够与信道特性相适应。
- 经过变换后的信号仍然是基带信号。
- 由于基带调制是把数字信号从一种形式转换为另一种形式的数字信号，所以这种过程又称为编码
### 带通调制
使用载波进行调制，把基带信号的频率搬移到更高的频段，并转换为模拟信号，这样就可以更好地在模拟信道中传输。
# 四种编码方式【常考编码的区别】
![Pasted image 20240504203349](https://github.com/user-attachments/assets/69c0ac35-e0d9-4002-8461-266dc01feda2)
## 归零编码
这种编码在传输过程中处于低电平的情况多，信道利用率低
## 非归零编码
- 编码容易实现，但没有检错功能，且无法判断一个码元的开始和结束，以至于收发双方难以保持同步
- 需要在接收方和发送方另外建立一条信道来传输时钟周期信号来保证同步，无法保证自同步
- 只有非归零编码不含同步信息
## 反向不归零编码
- 反向不归零编码对于全部是1的信号同样难以确认一共发送了多少个信号，同样需要在收发双方之间另外建立一条信道传输时钟周期信号，无法实现自同步
## 曼彻斯特编码
- 该编码特点是在每一个码元的中间出现电平跳变，位中间的跳变既作为时钟信号（可用于同步），又作为数据信号
- 但它所占的频带宽度是原始的基带宽度的两倍 。每个码元都被调成两个电平
- 所以数据传输速率只有调制速率的1/2（在一个时钟周期内电平变化了两次，而只传输了一位比特
## 差分曼彻斯特编码
- 该编码的特点是在每个码元中间都有一次电平的跳转，可以实现自同步，且抗干扰强于曼彻斯特编码。
## 4B/5B
比特流中插入额外的比特以打破一连串的0或1，就是用5个比特来编码4个比特的数据，之后再传给接收方，因此称为4B/5B。编码效率为80%。
# 数字数据调制为模拟信号
![Pasted image 20240504204616](https://github.com/user-attachments/assets/c866ab2d-e108-4726-b0ae-581d6b780696)
- 调幅：即戴波的振幅随基带数字信号而变化。如0或1分别对应无载波或有载波输出。
- 调频：即戴波的频率随基带数字信号而变化。如0或1分别对应低频或高频。
- 调相：即戴波的初相随基带数字信号而变化。如0或1分别对应正弦波或余弦波。
- 正交振幅调制QAM（调频 + 调相）：为了达到更高的信息传输速率，必须采用技术上更为复杂的多元制振幅相位调制方法。
# 模拟数据编码为数字信号

- 计算机内部处理的是二进制，处理的都是数字音频，所以需要将模拟音频通过采样、量化转换成有限个数字表示的离散序列（即实现音频数字化）。
- 典型的例子
	- 对音频信号进行编码的脉码调制（PCM），在计算机应用中，能够达到最高保真水平的就是PCM编码。它的主要步骤包括三步：抽样、量化、编码
		- 抽样
			- - 对模拟信号进行周期性扫描，把时间上连续的信号变成时间上离散的信号。
			- 为了使得所得到的离散信号能无失真地代表被抽样的模拟数据，要使采样定理进行采样：f采样频率 ≥ 2f信号最高频率。
		- 量化
			- 把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量。
		- 编码
			- 把量化的结果转换为与之对应的二进制编码。
# 模拟数据调制为模拟信号
- 在模拟信号传输过程中，可能信道的长度非常长，环境比较恶劣，会导致传输的模拟信号会受到衰减
- 为了保证传输的有效性，需要将信号调制成频率更高的信号来应对传输过程的衰减
- 接收方接收到调制的信号后，通过解调器将信号还原为原来的信号
# 电路交换，报文交换，分组交换
![Pasted image 20240504205222](https://github.com/user-attachments/assets/221ee301-2f8d-4dd8-8b1a-6f329f5eed61)
## 电路交换
### 优点
- 通信时延小。通信双方通过专用线路进行通信，数据可以直达。当数据传输量较大时，优点将十分显著。
- 线路独占，没有冲突。
- 实时性强。一旦通信线路建立，双方可以实时通信
### 缺点
- 线路独占，利用率太低。
- 连接建立时间过长。
## 报文交换
报文交换以报文作为数据传输单位，携带有源地址和目的地址等信息。
### 优点
- 无需建立连接。
- 动态分配线路。
- 线路利用率高。
### 缺点
- 报文交换对报文的大小没有限制，需要网络节点有足够的缓存空间。
- 报文交换在节点处要经历存储、转发等操作，从而引起一定时延。
## 分组交换
- 分组交换是将大的数据块分割成小的分组，并添加源地址、目的地址和分组编号等信息。
- 以太网采用分组交换技术
- 分组交换对报文交换的主要改进是减少了传输时延
### 优点
- 无需建立连接。
- 线路利用率高。
- 相对报文交换，分组长度固定，缓冲区容易管理。
- 分组比报文小，因此传输时间更短。
### 缺点
- 仍然存在时延。
- 需要传输包括源地址、目的地址、分组编号等额外信息。
- 分组可能遇到失序、丢失、重复等问题。
# 计算
![Pasted image 20240504205727](https://github.com/user-attachments/assets/d3ea942c-5aa2-4f46-9550-61df88300973)
# 数据报和虚电路
分组交换根据通信子网向端点系统提供的服务，分为数据报方式和虚电路方式

![1714827826106](https://github.com/user-attachments/assets/b71fb2e6-06d1-47e0-9bf4-5b0a2b759428)
# 物理层的传输媒介和设备
## 物理层的传输媒介
- 传输介质是数据传输系统中在发送设备和接收设备之间的物理通路
- 传输媒体并不是物理层
- 物理层规定了电气特性，所以能识别所传送的是比特流。
- 传输介质可以分为：导向性传输介质和非导向性传输介质。
	- 导向性传输介质：铜线，光纤
	- 非导向性传输媒介质：空气，真空，海水
## 导向型传输介质
### 双绞线
把两根互相绝缘的铜导线并排放在一起，然后用规则的方法绞合起来。绞合可减少对相邻导线的电磁干扰。
#### 非屏蔽双绞线UTP
无屏蔽层的双绞线
#### 屏蔽双绞线STP
为了提高双绞线抗电磁干扰的能力，可以在双绞线的外面再加上一层用金属丝编织成的屏蔽层。
#### 优缺点
价格便宜，通信距离短，长距离的模拟传输需要放大器放大衰减信号，对于数字传输，要用中继器将失真的信号整形。
### 同轴电缆
同轴电缆由内导体铜质芯线（单股实心线或多股绞合线）、绝缘层、网状编织的外导体屏蔽层（也可以是单股的）以及保护塑料外层所组成。
#### 基带同轴电缆
用于传输基带数字信号的称为，用于局域网
#### 带宽同轴电缆
用于传送宽带信号的称为，用于有线电视系统
#### 优缺点
由于外导体屏蔽层的作用，同轴电缆具有很好的抗干扰特性，被广泛用于传输较高速率的数据，其传输距离比双绞线更远，价格也更高。
### **光纤** （重点）
光纤通信就是利用光导纤维（以下简称为光纤）传递光脉冲来进行通信。有光脉冲相当于1，而没有光脉冲相当于0

![Pasted image 20240504211732](https://github.com/user-attachments/assets/3f2ee955-a351-4a9f-9fde-b04af712ff2a)
#### 优缺点
-  传输损耗小，中继距离长，对远距离传输特别经济。
- 抗雷电和电磁干扰性能好。
-  无串音干扰，保密性好，也不易被窃听或截取数据。
-  体积小，重量轻。
# 物理层设备
## 中继器
对信号再生和还原，保持与原数据相同，以增加信号传输的距离，延长网络的长度。
### 中继器的两端
- 端口仅作用于信号的电气部分，并不管数据中有没有错误数据或者不适于网段的数据。
- 两端可以连接相同媒体，也可以连接不同媒体。
- 中继器的网段一定要是同一个协议（中继器不会存储转发，傻瓜式机器）
### 5-4-3规则
- 网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障。
- 以太网有5个网段，4个网络设备，3个段连接计算机

![Pasted image 20240504212133](https://github.com/user-attachments/assets/1ed90f19-5769-47e7-b1bf-c27c919ef356)
## 集线器
集线器本质是一个多端口的中继器
### 集线器的功能
- 对信号进行再生放大转发，对衰减的信号进行放大
- 端口收到数据后，从除输入端口外的所有端口广播出去
- 不具备信号的定向传送能力，是一个共享设备。

![Pasted image 20240504212325](https://github.com/user-attachments/assets/729bf78c-6cdf-44d2-8706-0dd52d376876)

